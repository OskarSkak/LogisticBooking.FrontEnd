@page
@using LogisticsBooking.FrontEnd.Pages.Client.Bookings
@using LogisticsBooking.FrontEnd.Services
@using Microsoft.AspNetCore.Identity.EntityFrameworkCore
@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.Extensions.Localization
@model LogisticsBooking.FrontEnd.Pages.Client.TransportersModel
@inject IHtmlLocalizer<BookingOverviewModel> htmlLocalizer
@inject CommonLocalizationService CommonLocalizationService
@{
}

@if (Model.ShowResponseMessage)
{
    <div class="alert alert-success">
        <strong>@Model.ResponseMessage</strong> 
    </div>
}



<div class="py-5 text-center">
  
        <div class="container">
            <div class="row">
                <div class="mx-auto col-lg-5 col-md-7 col-10">
                    <h1>@localizer.Get("Transporters")</h1>
                    <p class="mb-3">@localizer.Get("Click on a name to edit the transporter")/p>
                </div>
            </div>
            <div class="row">
                <div class="mx-auto col-lg-5 col-md-7 col-10">
                    <a asp-page="Transporter_Create"><button class="btn btn-primary btn-floating">@localizer.Get("Create Transporter")</button></a> 
                </div>
            </div>
        </div>
   
    
</div>



<div class="py-5" style="">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="list-group" style="">
                    @foreach(var Transporter in Model.Transporters)
                    {
                       
                        <text>
                            
                            <div id="_@Transporter.TransporterId" asp-route-ok="@Transporter.TransporterId" class="list-group-item list-group-item-action ">@Transporter.Name</div>
                            <input hidden="hidden" type="hidden" value="@Transporter.TransporterId"/>
                        </text>
                    }
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    
    @foreach (var Transporter in Model.Transporters)
        {
    
    <script>
     $('#_@Transporter.TransporterId').on('click', function f() {
        var root = location.protocol + '//' + location.host;
        window.location.href = root + '/Client/TransporterDetail?ok=@Transporter.TransporterId'; 
        });
    </script>
    
    }
    
    
    
    
}
